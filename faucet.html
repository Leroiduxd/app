<!DOCTYPE html>
<html data-wf-page="67ebd3ace2e4202b4b34a395" data-wf-site="67e1f6e85a9334351f521c22" data-wf-status="1" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Faucet</title>
    <meta content="Faucet" property="og:title" />
    <meta content="Faucet" property="twitter:title" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="css/webflow-style.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Source Code Pro:300,regular,500,600,700"]
        }
      });
    </script>
    <script type="text/javascript">
      ! function(o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
    <link href="https://cdn.prod.website-files.com/67e1f6e85a9334351f521c22/67e1f77f6b5f1e5542cc54e1_Frame%205.svg" rel="shortcut icon" type="image/x-icon" />
    <link href="https://cdn.prod.website-files.com/67e1f6e85a9334351f521c22/67e1f7835a9334351f529edf_Frame%201%20(1).png" rel="apple-touch-icon" />
    <style>
      /* Notification container */
      #notificationContainer {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 340px;
        z-index: 9999;
      }
  
      /* Individual notification style */
      .notification {
        background-color: #000;
        border: 1px solid #ffffff;
        padding: 12px 16px;
        margin-bottom: 10px;
        font-size: 14px;
        opacity: 0.95;
        animation: fadeIn 0.3s ease;
      }
  
      /* Success notification style */
      .notification.success {
        border-color: #2a8bff;
      }
  
      /* Error notification style */
      .notification.error {
        border-color: #c90004;
      }
  
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 0.95; }
      }
  
      /* Basic button style */
      button {
        background-color: #333333;
        color: #ffffff;
        border: 1px solid #444444;
        border-radius: 4px;
        padding: 10px 16px;
        cursor: pointer;
        margin-right: 10px;
        font-size: 14px;
      }
  
      button:hover {
        background-color: #444444;
      }
    </style>
    <!-- ethers.js -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  </head>
  <body class="body-2">
    <div id="notificationContainer"></div>
  
    <section class="section-26">
      <div class="div-block-291">
        <div class="div-block-292"></div>
        <div>
          <div class="div-block-457">
            <div class="div-block-460">
              <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc17535d-4b34a395" class="div-block-456">
                <img loading="lazy" src="https://cdn.prod.website-files.com/67e1f6e85a9334351f521c22/67ebd3ae565a25f4f312eb63_Frame%205%20(1).svg" alt="" />
                <a data-w-id="7e3159fa-87a2-d6c6-1a80-500cbc17535f" href="#" class="button-91 w-button" id="connectButton">Connect your Wallet</a>
                <a href="#" class="button-88 w-button">Disconnect</a>
              </div>
              <div class="div-block-459">
                <div class="div-block-461">
                  <!-- /01: AVAX balance check -->
                  <div class="avax-solde">
                    <div id="status01">/01</div>
                  </div>
                  <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc175368-4b34a395" class="div-block-458"></div>
                  <!-- /02: Network (Avalanche FUJI) check -->
                  <div class="avax-solde">
                    <div id="status02">/02</div>
                  </div>
                  <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc17536c-4b34a395" class="div-block-458"></div>
                  <!-- /03: Token (USDC) balance check -->
                  <div class="avax-solde">
                    <div id="status03">/03</div>
                  </div>
                  <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc175370-4b34a395" class="div-block-458"></div>
                  <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc175371-4b34a395" class="div-block-458"></div>
                </div>
                <div class="div-block-455">
                  <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc175373-4b34a395" class="div-block-454">
                    <div class="text-block-218">Claim your Ethereum Holešky on Google Faucet: <br />
                    </div>
                    <a href="https://core.app/tools/testnet-faucet/?subnet=c&token=c" class="button-90 w-button">Claim 1 AVAX Here</a>
                  </div>
                  <div class="div-block-293">
                    <div class="text-block-218">Add Ethereum Holešky on your Wallet : </div>
                    <a href="#" class="button-90 w-button" id="addChainButton">Add Avalanche Fuji</a>
                  </div>
                  <div class="div-block-294">
                    <div class="text-block-217">Claim your USDC here and approve :  </div>
                    <a href="#" class="button-90 w-button" id="faucetButton">Claim 1,000 USDC</a>
                  </div>
                </div>
              </div>
            </div>
            <div id="w-node-_7e3159fa-87a2-d6c6-1a80-500cbc175383-4b34a395" class="div-block-295">
              <a href="http://app.brokex.trade" class="button-89 w-button">Start Trade Now </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/webflow.schunk.4a394eb5af8156f2.js" type="text/javascript"></script>
    <script src="js/webflow.schunk.87accfb4ad4ca7ab.js" type="text/javascript"></script>
    <script src="js/webflow-script.js" type="text/javascript"></script>
    <script>
      let currentAccount = null;
  
      // Token info
      const tokenAddress = "0x95CA2454a71EA272fFE543aF297fDcd877E42605";
      const tokenDecimals = 6; // Assume 18 decimals
  
      // Faucet contract info
      const faucetContractAddress = "0xB84a57867D1eF351B0db3866e44797F749A8e639";
      const faucetABI = [
        {
          "inputs": [],
          "name": "faucet",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_tokenAddress",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [],
          "name": "FAUCET_AMOUNT",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [],
          "name": "token",
          "outputs": [
            {
              "internalType": "contract IBEP20",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        }
      ];
  
      // DOM elements
      const connectButton = document.getElementById("connectButton");
      const addChainButton = document.getElementById("addChainButton");
      const faucetButton = document.getElementById("faucetButton");
      // (Optional balance display elements if you want extra text elsewhere)
      const avaxBalanceP = document.getElementById("avaxBalance");
      const tokenBalanceP = document.getElementById("tokenBalance");
      const notificationContainer = document.getElementById("notificationContainer");
  
      // Check if MetaMask is installed
      if (typeof window.ethereum === "undefined") {
        showNotification("MetaMask is not installed. Please install it to use this page.", "error");
      }
  
      // Utility: Show custom notification
      function showNotification(message, type = "success") {
        const notification = document.createElement("div");
        notification.classList.add("notification", type);
        notification.innerText = message;
        notificationContainer.appendChild(notification);
        setTimeout(() => {
          if (notificationContainer.contains(notification)) {
            notificationContainer.removeChild(notification);
          }
        }, 4000);
      }
  
      // Connect / Disconnect
      connectButton.addEventListener("click", async () => {
        if (currentAccount) {
          currentAccount = null;
          connectButton.innerText = "Connect your Wallet";
          showNotification("Disconnected.", "success");
        } else {
          try {
            const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
            currentAccount = accounts[0];
            connectButton.innerText = "Disconnect";
            showNotification("Connected: " + currentAccount, "success");
            updateBalances();
          } catch (error) {
            console.error(error);
            showNotification("Error connecting to MetaMask.", "error");
          }
        }
      });
  
      // Add Avalanche FUJI
      addChainButton.addEventListener("click", async () => {
        try {
          await window.ethereum.request({
            method: "wallet_addEthereumChain",
            params: [{
              chainId: "0xa869", // 43113 in hex
              chainName: "Avalanche FUJI C-Chain",
              nativeCurrency: {
                name: "Avalanche",
                symbol: "AVAX",
                decimals: 18
              },
              rpcUrls: ["https://api.avax-test.network/ext/bc/C/rpc"],
              blockExplorerUrls: ["https://testnet.snowtrace.io/"]
            }]
          });
          showNotification("Avalanche FUJI added to your wallet.", "success");
          updateBalances();
        } catch (error) {
          console.error(error);
          showNotification("Error adding Avalanche FUJI.", "error");
        }
      });
  
      // Call Faucet
      faucetButton.addEventListener("click", async () => {
        if (!currentAccount) {
          showNotification("You must connect first.", "error");
          return;
        }
        try {
          const provider = new ethers.providers.Web3Provider(window.ethereum);
          const signer = provider.getSigner();
          const faucetContract = new ethers.Contract(faucetContractAddress, faucetABI, signer);
          const tx = await faucetContract.faucet();
          showNotification("Faucet transaction sent. Waiting for confirmation...", "success");
          await tx.wait();
          showNotification("Faucet successfully executed!", "success");
          updateBalances();
        } catch (error) {
          console.error(error);
          showNotification("Error while calling faucet.", "error");
        }
      });
  
      // Update balances and status indicators
      async function updateBalances() {
        if (!currentAccount) return;
        try {
          // --- AVAX Balance for /01 ---
          const balanceHex = await window.ethereum.request({
            method: "eth_getBalance",
            params: [currentAccount, "latest"]
          });
          const balanceAVAX = Number(BigInt(balanceHex)) / 1e18;
          // Set /01 color: red if below 0.01, blue otherwise.
          document.getElementById("status01").style.color = balanceAVAX < 0.0000001 ? "#c90004" : "#2a8bff";
  
          // --- Token Balance (USDC) for /03 ---
          const methodId = "0x70a08231"; // balanceOf(address)
          let accountPadded = currentAccount.toLowerCase().replace(/^0x/, "");
          accountPadded = accountPadded.padStart(64, "0");
          const data = methodId + accountPadded;
          const tokenBalanceHex = await window.ethereum.request({
            method: "eth_call",
            params: [{
              to: tokenAddress,
              data: data
            }, "latest"]
          });
          const tokenBalance = Number(BigInt(tokenBalanceHex)) / (10 ** tokenDecimals);
          // Set /03 color: red if below 100, blue otherwise.
          document.getElementById("status03").style.color = tokenBalance < 100 ? "#c90004" : "#2a8bff";
  
          // --- Network check for /02 ---
          const chainId = await window.ethereum.request({ method: "eth_chainId" });
          // For Avalanche FUJI, chainId should be "0xa869"
          document.getElementById("status02").style.color = chainId === "0xa869" ? "#c90004" : "#2a8bff";
  
        } catch (error) {
          console.error(error);
          showNotification("Error retrieving balances.", "error");
        }
      }
  
      // Listen for account changes
      if (window.ethereum) {
        window.ethereum.on("accountsChanged", (accounts) => {
          if (accounts.length > 0) {
            currentAccount = accounts[0];
            connectButton.innerText = "Disconnect";
            showNotification("Account changed: " + currentAccount, "success");
            updateBalances();
          } else {
            currentAccount = null;
            connectButton.innerText = "Connect your Wallet";
            showNotification("No account connected.", "error");
          }
        });
      }
    </script>
  </body>
</html>
